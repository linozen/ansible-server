---
##########################################################################################
# fail2ban
##########################################################################################
fail2ban_loglevel: INFO
fail2ban_logtarget: /var/log/fail2ban.log
fail2ban_ignoreself: "true"
fail2ban_ignoreips: "127.0.0.1/8 ::1"
fail2ban_bantime: 600
fail2ban_findtime: 600
fail2ban_maxretry: 5
fail2ban_destemail: "admin@sehn.dev"
fail2ban_sender: root@{{ ansible_fqdn }}
fail2ban_jail_configuration:
  - option: enabled
    value: "true"
    section: sshd
  - option: mode
    value: "aggressive"
    section: sshd

##########################################################################################
# unattended-upgrades
##########################################################################################
unattended_origins_patterns:
  # security updates
  - "origin=Debian,codename=${distro_codename},label=Debian-Security"
  # updates including non-security updates
  - "origin=Debian,codename=${distro_codename},label=Debian"
unattended_autoclean_interval: 21
unattended_download_upgradeable: 1
unattended_automatic_reboot: true
unattended_verbose: 1
unattended_mail: "admin@sehn.dev"
unattended_mail_only_on_error: true

##########################################################################################
# borgbackup
##########################################################################################
create_repo: true
bb_repo_name: "bvpk"
bb_region: "eu"
alertdays: 2
bb_token: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  37373566386235333636623965333836366261363935336130646631326337353261656239633136
  3665313165626363633634376139343365303839393137320a613163336331663734386136326435
  35666535363439316433386137306333303463326238656238623433313161306439386439343761
  6166626330633137330a303636376132636539616566366635326462636265643366636164393839
  39363738656434343833393866323039623266353537363630636637626137656331303561653134
  32396631306662333164396637393533376237613239306231356431326537363139383938316164
  32363737366432396635343264616465326335383934376265303864636161346130336531366634
  37356531643735633266636332323137323136346464303137333562313130373366653763663764
  30363732383537656230386264626330633061376338623366376330363666386566386637316335
  65366631663065616433393230323531613130303365373865636631643537373034306563633334
  65396666613561393032343862633339316430666664376632393863386238363130626166666564
  64303131643363333963
borg_encryption_passphrase: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  65313432653866336130336530376266346639616664366266663365303431363566343033376261
  3236316539343731313766663763343966333663633235640a356137336630363462313834653132
  35383638656238333965303139326537643066666232666364363762326466613136376666613766
  6635313062646665340a356232666661623132653661313237343065633133653335666662356432
  65656534623638636532356630366232393230313630323266363265656530656133643737343731
  37356335333132393237646634623632393865306465663137366463303139393631633831343937
  32343435633964656338323937333365636233663537386666323535336464396163363836313563
  34356537333861373963
borg_source_directories:
  - /home/dockeruser/traefik
  - /home/dockeruser/bvpk
  - /root
borg_exclude_patterns:
  - /*/.cache
borg_retention_policy:
  keep_hourly: 3
  keep_daily: 7
  keep_weekly: 4
  keep_monthly: 12

##########################################################################################
# docker (rootless)
##########################################################################################
docker_allow_privileged_ports: true

##########################################################################################
# traefik reverse proxy
##########################################################################################
traefik_image: traefik:2.4
traefik_dir: /home/dockeruser/traefik
traefik_loglevel: DEBUG
acme_email: admin@lino.pw
traefik_enable_dashboard: true
traefik_api_url: bvpk-rp.lino.pw
tls_min_version: VersionTLS12
traefik_api_user: admin
traefik_api_password: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  66313238316636306661333564373264373031656164303536663966333733343230333439616165
  3066326430326339656463363963376539363630633432660a613039343034303234653235643165
  39303938306363666537636632306335383736663133326663613763323461643838316565303738
  6434373462623863300a353235373339663630623131613631636330323661616362343331323034
  32343563333466373030306538393133666334306433656531623836383963363465

##########################################################################################
# drone-runner
##########################################################################################
drone_runner_url: "bvpk-ci.lino.pw"
drone_runner_nginx_le_email: "admin@lino.pw"
drone_runner_labels: "bvpk:www"
drone_rpc_secret: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  38643363353030316139643033656662336539613131626361333730393839376262623835653762
  6265656436643739623362333030356338383463303630620a663237353163383638366236613631
  36306631633932303834623537313333353837663238333239333764626337653462646166353436
  6136303439393263610a366563613839346635366332356636663533613262363739623233366439
  39373336336163323865653131653065643465346661626238313832393561386163653233356165
  6465303539653335383162303465376564353537373464646635
drone_runner_username: admin
drone_runner_password: !vault |
  $ANSIBLE_VAULT;1.1;AES256
  61386338366635393939623330383035383333313861613162303666633034623161393362333364
  6637326637653963346333653730663339666661373336340a356137306330373366333233396339
  34366232383362626133353162383064643266663737623533366436343666386534626330383437
  3366316332343535650a333464303862363437643732636434613138393833626665353130653365
  63313338643466313736626330643463316462343661306634336436623233353436
